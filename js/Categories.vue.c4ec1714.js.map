{"version":3,"file":"js/Categories.vue.c4ec1714.js","mappings":"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","sources":["webpack://vue3/./src/components/Project5/Views/Categories.vue","webpack://vue3/./src/components/Project5/components/AddCategoryComponent.vue","webpack://vue3/./src/components/Project5/components/AddCategoryComponent.vue?6998","webpack://vue3/./src/components/Project5/components/EditCategoryComponent.vue","webpack://vue3/./src/components/Project5/components/EditCategoryComponent.vue?319f","webpack://vue3/./src/components/Project5/Views/Categories.vue?a345"],"sourcesContent":["<template>\r\n  <div class=\"p-4 categories\">\r\n    <div class=\"\">\r\n      <h3>Categories</h3>\r\n    </div>\r\n    <hr />\r\n    <!-- <Loader v-if=\"isLoaded\" /> -->\r\n    <section>\r\n      <div class=\"row justify-content-evenly\">\r\n        <AddCategory @categoryAdded=\"updateCategories\" />\r\n\r\n        <EditCategory :categories=\"categories\" :key=\"updateCount\" />\r\n      </div>\r\n    </section>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport AddCategory from \"../components/AddCategoryComponent.vue\";\r\nimport EditCategory from \"../components/EditCategoryComponent.vue\";\r\n//import Loader from \"../components/Loader.vue\";\r\nimport { CRMstore } from \"@/stores/CRMstore\";\r\nexport default {\r\n  name: \"categories-component\",\r\n\r\n  setup() {\r\n    const crmStore = CRMstore();\r\n    return {\r\n      crmStore,\r\n    };\r\n  },\r\n\r\n  components: {\r\n    AddCategory,\r\n    EditCategory, //Loader\r\n  },\r\n\r\n  data() {\r\n    return {\r\n      isLoaded: true,\r\n      updateCount: 0,\r\n    };\r\n  },\r\n\r\n  methods: {\r\n    updateCategories() {\r\n      this.updateCount++;\r\n      this.crmStore.categories = JSON.parse(localStorage.getItem(\"categories\"))||[];\r\n    },\r\n  },\r\n  computed: {\r\n    categories() {\r\n      return this.crmStore._userInfo.categories;\r\n    },\r\n  },\r\n  mounted(){\r\n    this.updateCategories();\r\n  },\r\n  watch:{\r\n      categories(){\r\n        let allInfo = JSON.parse(localStorage.getItem('userInfo'))\r\n        this.crmStore.categories = allInfo.categories\r\n    }\r\n  }\r\n};\r\n</script>\r\n","<template>\r\n  <div\r\n    class=\"create border border-success col-xl-5 col-lg-5 col-md-5 col-sm-5 bg-info flex-wrap m-2\"\r\n  >\r\n    <div class=\"p-2\">\r\n      <div class=\"mb-4\">\r\n        <h4>Create</h4>\r\n      </div>\r\n\r\n      <form @submit.prevent=\"addCategory\">\r\n        <div class=\"form-floating mb-3\">\r\n          <input\r\n            type=\"text\"\r\n            class=\"form-control\"\r\n            id=\"floatingName\"\r\n            placeholder=\"Enter title\"\r\n            v-model=\"categoryName\"\r\n          />\r\n          <label for=\"floatingName\">Title</label>\r\n          <!-- <div v-if=\"v$.$dirty\" class=\"text-danger errors\">\r\n            <span v-for=\"item in v$.$silentErrors\" :key=\"item.uid\">\r\n              <i v-if=\"item.$property === 'categorieName'\">{{\r\n                item.$message\r\n              }}</i>\r\n            </span>\r\n          </div> -->\r\n        </div>\r\n\r\n        <div class=\"form-floating mb-3\">\r\n          <input\r\n            type=\"number\"\r\n            class=\"form-control\"\r\n            id=\"floatingLimit\"\r\n            placeholder=\"Limit\"\r\n            min=\"1\"\r\n            v-model=\"categoryLimit\"\r\n          />\r\n          <label for=\"floatingLimit\">Limit</label>\r\n          <div class=\"error\" v-if=\"!v$.categoryLimit.required\">Enter limit</div>\r\n          <!-- <div v-if=\"v$.$dirty\" class=\"text-danger errors\">\r\n            <span v-for=\"item in v$.$silentErrors\" :key=\"item.uid\">\r\n              <i v-if=\"item.$property === 'categorieLimit'\">{{\r\n                item.$message\r\n              }}</i>\r\n            </span>\r\n          </div> -->\r\n        </div>\r\n\r\n        <button\r\n          v-if=\"!v$.$invalid\"\r\n          type=\"submit\"\r\n          class=\"btn btn-success shadow-sm rounded mb-2\"\r\n        >\r\n          CREATE <i class=\"bi bi-send float-end ms-2\"></i>\r\n        </button>\r\n      </form>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script setup>\r\n//import { CRMstore } from \"@/stores/CRMstore\";\r\nimport { useVuelidate } from \"@vuelidate/core\"\r\nimport { required } from \"@vuelidate/validators\"\r\nimport { reactive, computed } from \"vue\"\r\n\r\n//emits: [\"categoryAdded\"],\r\nconst state = reactive({\r\n  categoryName: '',\r\n  categoryLimit: '',\r\n})\r\nconst rules = computed(() => ({\r\n  categoryName: { required },\r\n  categoryLimit: { required },\r\n}));\r\nconst v$ = useVuelidate(rules, state);\r\nasync function addCategory() {\r\n  if (this.v$.$invalid) {\r\n    for (let err of this.v$.$silentErrors) {\r\n      this.$toast.warning(err.$message);\r\n    }\r\n    return;\r\n  }\r\n\r\n  await this.crmStore\r\n    .setNewCategory({\r\n      name: this.categoryName,\r\n      limit: this.categoryLimit,\r\n    })\r\n    .then((res) => {\r\n      this.$toast.success(`Category ${res.newCategory.categoryName} added`);\r\n      this.categoryName = \"\";\r\n      this.categoryLimit = \"\";\r\n      this.v$.$reset();\r\n      this.$emit(\"categoryAdded\");\r\n    });\r\n}\r\n</script>\r\n","import script from \"./AddCategoryComponent.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./AddCategoryComponent.vue?vue&type=script&setup=true&lang=js\"\n\nconst __exports__ = script;\n\nexport default __exports__","<template>\r\n  <div v-if=\"categories\"\r\n    class=\"edit border border-success col-xl-5 col-lg-5 col-md-5 col-sm-5 bg-light flex-wrap m-2\"\r\n  >\r\n    <div class=\"p-2\">\r\n      <div class=\"mb-4\">\r\n        <h4>Edit</h4>\r\n      </div>\r\n\r\n      <form @submit.prevent=\"submit\">\r\n        <div class=\"mb-2\">\r\n          \r\n          <select\r\n            class=\"form-select\"\r\n            id=\"selectCategory\"\r\n            aria-label=\"Default select example\"\r\n            v-model=\"current\"\r\n          >\r\n            <option disabled>Categories:</option>\r\n            <option v-for=\"category in categories\" :key=\"category.id\" :value=\"category\">\r\n              {{ category.categoryName }}\r\n            </option>\r\n          </select>\r\n          <label for=\"selectCategory\">Choose the category</label>\r\n        </div>\r\n\r\n        <div class=\"mb-2\">\r\n          <input\r\n            type=\"text\"\r\n            id=\"name\"\r\n            :placeholder=\"current.categoryName\"\r\n            v-model=\"current.categoryName\"\r\n          />\r\n        </div>\r\n\r\n        <div class=\"mb-4\">\r\n          <input\r\n            id=\"limit\"\r\n            type=\"number\"\r\n            :placeholder=\"current.categoryLimit\"\r\n            v-model=\"current.categoryLimit\"\r\n          />\r\n        </div>\r\n\r\n        <button\r\n          v-if=\"current.hasOwnProperty('categoryLimit')\"\r\n          type=\"submit\"\r\n          class=\"btn btn-success shadow-sm rounded mb-2\"\r\n        >\r\n          UPDATE <i class=\"bi bi-send float-end ms-2\"></i>\r\n        </button>\r\n      </form>\r\n    </div>\r\n  </div>\r\n  <p class=\"text-center col-xl-5 col-lg-5 col-md-5 col-sm-5 flex-wrap\" v-else>You didn't add categories</p>\r\n</template>\r\n\r\n<script>\r\nimport { CRMstore } from \"@/stores/CRMstore\";\r\nexport default {\r\n  name: \"edit-category\",\r\n\r\n  props: [\"categories\"],\r\n\r\n  setup() {\r\n    const crmStore = CRMstore();\r\n    return {\r\n      crmStore,\r\n    };\r\n  },\r\n\r\n  data() {\r\n    return {\r\n      current: {},\r\n    };\r\n  },\r\n\r\n  methods: {\r\n    submit() {\r\n      try {\r\n        this.crmStore.updateCategory(this.current);\r\n        this.current = {};\r\n        this.$toast.success(\"Category updated!\");\r\n      } catch (e) {\r\n        this.$toast.warning(e.message);\r\n      }\r\n    },\r\n  },\r\n};\r\n</script>\r\n","import { render } from \"./EditCategoryComponent.vue?vue&type=template&id=75efc992\"\nimport script from \"./EditCategoryComponent.vue?vue&type=script&lang=js\"\nexport * from \"./EditCategoryComponent.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"D:\\\\Projects\\\\vue3\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import { render } from \"./Categories.vue?vue&type=template&id=e24edfbc\"\nimport script from \"./Categories.vue?vue&type=script&lang=js\"\nexport * from \"./Categories.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"D:\\\\Projects\\\\vue3\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__"],"names":["class","_createElementVNode","_createElementBlock","_hoisted_2","_hoisted_3","_createVNode","_component_AddCategory","onCategoryAdded","$options","_createBlock","_component_EditCategory","categories","key","$data","state","reactive","categoryName","categoryLimit","rules","computed","required","v$","useVuelidate","async","addCategory","this","$invalid","err","$silentErrors","$toast","warning","$message","crmStore","setNewCategory","name","limit","then","res","success","newCategory","$reset","$emit","__exports__","disabled","for","type","_hoisted_14","$props","onSubmit","id","$event","_hoisted_5","_Fragment","_renderList","category","value","_hoisted_6","_hoisted_7","placeholder","hasOwnProperty","_hoisted_15","props","setup","CRMstore","data","current","methods","submit","updateCategory","e","message","components","AddCategory","EditCategory","isLoaded","updateCount","updateCategories","JSON","parse","localStorage","getItem","_userInfo","mounted","watch","allInfo","render"],"sourceRoot":""}