"use strict";(self["webpackChunkvue3"]=self["webpackChunkvue3"]||[]).push([[225],{7258:function(e,s,a){a.r(s),a.d(s,{default:function(){return j}});var t=a(3396),o=a(9242),r=a(7139);const i=e=>((0,t.dD)("data-v-307471b4"),e=e(),(0,t.Cn)(),e),n={key:1,class:"container"},l=i((()=>(0,t._)("p",{class:"formDescription"},"Home bookkeeping",-1))),d={class:"form-floating mb-3"},c=i((()=>(0,t._)("label",{for:"floatingInput"},"Email",-1))),u={key:0,class:"text-danger errors"},m={key:0},p={class:"form-floating"},g=i((()=>(0,t._)("label",{for:"floatingPassword"},"Пароль",-1))),v={key:0,class:"text-danger errors"},w={key:0},f={key:0,class:"mt-4 d-grid gap-2"},k=i((()=>(0,t._)("button",{type:"submit",class:"btn btn-success"},[(0,t.Uk)(" Login "),(0,t._)("i",{class:"bi bi-arrow-right-square-fill float-end"})],-1))),h=[k],y={class:"form-button mt-3 account have-not-account"},$=(0,t.Uk)(" Don't have an account? "),b=(0,t.Uk)("Register");function _(e,s,a,i,k,_){const D=(0,t.up)("Loader"),q=(0,t.up)("router-link");return e.isLoaded?((0,t.wg)(),(0,t.j4)(D,{key:0})):((0,t.wg)(),(0,t.iD)("div",n,[(0,t._)("form",{class:"form",onSubmit:s[2]||(s[2]=(0,o.iM)((e=>_.onSubmit()),["prevent"]))},[l,(0,t._)("div",d,[(0,t.wy)((0,t._)("input",{type:"email",class:"form-control",id:"floatingInput",placeholder:"name@example.com",autocomplete:"username","onUpdate:modelValue":s[0]||(s[0]=s=>e.email=s)},null,512),[[o.nr,e.email,void 0,{trim:!0}]]),c,i.v$.$invalid?((0,t.wg)(),(0,t.iD)("div",u,[((0,t.wg)(!0),(0,t.iD)(t.HY,null,(0,t.Ko)(i.v$.$silentErrors,(e=>((0,t.wg)(),(0,t.iD)("span",{class:"error",key:e.uid},["email"===e.$property?((0,t.wg)(),(0,t.iD)("i",m,(0,r.zw)(e.$message),1)):(0,t.kq)("",!0)])))),128))])):(0,t.kq)("",!0)]),(0,t._)("div",p,[(0,t.wy)((0,t._)("input",{type:"password",class:"form-control",id:"floatingPassword",placeholder:"Password",autocomplete:"current-password","onUpdate:modelValue":s[1]||(s[1]=s=>e.password=s)},null,512),[[o.nr,e.password,void 0,{trim:!0}]]),g,i.v$.$invalid?((0,t.wg)(),(0,t.iD)("div",v,[((0,t.wg)(!0),(0,t.iD)(t.HY,null,(0,t.Ko)(i.v$.$silentErrors,(e=>((0,t.wg)(),(0,t.iD)("span",{key:e.uid},["password"===e.$property?((0,t.wg)(),(0,t.iD)("i",w,(0,r.zw)(e.$message),1)):(0,t.kq)("",!0)])))),128))])):(0,t.kq)("",!0)]),i.v$.$invalid?(0,t.kq)("",!0):((0,t.wg)(),(0,t.iD)("div",f,h)),(0,t._)("div",y,[(0,t._)("p",null,[$,(0,t.Wm)(q,{class:"register",to:"/register"},{default:(0,t.w5)((()=>[b])),_:1})])])],32)]))}var D=a(3053),q=a(9117),L=a(5635);const S={class:"d-flex justify-content-center m-5"},x=(0,t._)("div",{class:"spinner-border .text-info",role:"status"},[(0,t._)("span",{class:"visually-hidden"},"Loading...")],-1),C=[x];function U(e,s,a,o,r,i){return(0,t.wg)(),(0,t.iD)("div",S,C)}var E={name:"loader-component"},H=a(89);const P=(0,H.Z)(E,[["render",U]]);var I=P,Y={name:"login-component",components:{Loader:I},setup(){const e=(0,L.S)();return{crmStore:e,v$:(0,D.ZP)()}},data:()=>({email:"",password:"",isLoaded:!1}),validations(){return{email:{required:q.C1,email:q.Do},password:{required:q.C1,minLength:(0,q.Ei)(6)}}},methods:{async onSubmit(){if(this.v$.$invalid)return;const e={email:this.email,password:this.password};try{await this.crmStore.login(e).then((e=>{1===e&&(this.$router.push({name:"Home"}),this.$toast.success("Your login is successful"))}))}catch(s){this.$toast.warning(s.message)}}}};const Z=(0,H.Z)(Y,[["render",_],["__scopeId","data-v-307471b4"]]);var j=Z}}]);
//# sourceMappingURL=Login.vue.18b7d44e.js.map