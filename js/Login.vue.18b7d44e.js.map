{"version":3,"file":"js/Login.vue.18b7d44e.js","mappings":"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","sources":["webpack://vue3/./src/components/Project5/Views/Login.vue","webpack://vue3/./src/components/Project5/components/Loader.vue","webpack://vue3/./src/components/Project5/components/Loader.vue?bb31","webpack://vue3/./src/components/Project5/Views/Login.vue?8290"],"sourcesContent":["<template>\r\n  <Loader v-if=\"isLoaded\" />\r\n  <div v-else class=\"container\">\r\n    <form class=\"form\" @submit.prevent=\"onSubmit()\">\r\n      <p class=\"formDescription\">Home bookkeeping</p>\r\n\r\n      <div class=\"form-floating mb-3\">\r\n        <input\r\n          type=\"email\"\r\n          class=\"form-control\"\r\n          id=\"floatingInput\"\r\n          placeholder=\"name@example.com\"\r\n          autocomplete=\"username\"\r\n          v-model.trim=\"email\"\r\n        />\r\n        <label for=\"floatingInput\">Email</label>\r\n        <div v-if=\"v$.$invalid\" class=\"text-danger errors\">\r\n          <span class=\"error\" v-for=\"item in v$.$silentErrors\" :key=\"item.uid\">\r\n            <i v-if=\"item.$property === 'email'\">{{ item.$message }}</i>\r\n          </span>\r\n        </div>\r\n      </div>\r\n\r\n      <div class=\"form-floating\">\r\n        <input\r\n          type=\"password\"\r\n          class=\"form-control\"\r\n          id=\"floatingPassword\"\r\n          placeholder=\"Password\"\r\n          autocomplete=\"current-password\"\r\n          v-model.trim=\"password\"\r\n        />\r\n        <label for=\"floatingPassword\">Пароль</label>\r\n        <div v-if=\"v$.$invalid\" class=\"text-danger errors\">\r\n          <span v-for=\"item in v$.$silentErrors\" :key=\"item.uid\">\r\n            <i v-if=\"item.$property === 'password'\">{{ item.$message }}</i>\r\n          </span>\r\n        </div>\r\n      </div>\r\n\r\n      <div v-if=\"!v$.$invalid\" class=\"mt-4 d-grid gap-2\">\r\n        <button type=\"submit\" class=\"btn btn-success\">\r\n          Login <i class=\"bi bi-arrow-right-square-fill float-end\"></i>\r\n        </button>\r\n      </div>\r\n\r\n      <div class=\"form-button mt-3 account have-not-account\">\r\n        <p>\r\n          Don't have an account?\r\n          <router-link class=\"register\" to=\"/register\">Register</router-link>\r\n        </p>\r\n      </div>\r\n    </form>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport useVuelidate from \"@vuelidate/core\";\r\nimport { required, email, minLength } from \"@vuelidate/validators\";\r\nimport { CRMstore } from \"@/stores/CRMstore\";\r\nimport Loader from \"../components/Loader.vue\";\r\nexport default {\r\n  name: \"login-component\",\r\n  components: { Loader },\r\n  setup() {\r\n    const crmStore = CRMstore();\r\n    return {\r\n      crmStore,\r\n      v$: useVuelidate(),\r\n    };\r\n  },\r\n  data: () => ({\r\n    email: \"\",\r\n    password: \"\",\r\n    isLoaded: false,\r\n  }),\r\n  validations() {\r\n    return {\r\n      email: { required, email },\r\n      password: { required, minLength: minLength(6) },\r\n    };\r\n  },\r\n  // computed:{\r\n  //   catKey(){\r\n  //     return this.crmStore.categoryKey?this.crmStore.categoryKey:''\r\n  //   }\r\n  // },\r\n  methods: {\r\n    async onSubmit() {\r\n      if (this.v$.$invalid) {\r\n        return;\r\n      }\r\n      const formData = {\r\n        email: this.email,\r\n        password: this.password,\r\n      };\r\n\r\n      try {\r\n        await this.crmStore.login(formData).then((res) => {\r\n          if (res === 1) {\r\n            this.$router.push({ name: \"Home\" });\r\n            this.$toast.success(`Your login is successful`);\r\n          } else return;\r\n        });\r\n      } catch (e) {\r\n        this.$toast.warning(e.message);\r\n      }\r\n    },\r\n  },\r\n  // updated(){\r\n  //   this.catKey = this.crmStore.categoryKey\r\n  // },\r\n  // watch:{\r\n  //   catKey(){\r\n  //     this.crmStore._userInfo = JSON.parse(localStorage.getItem('userInfo'))\r\n  //   }\r\n  // }\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n.container {\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  min-height: 80vh;\r\n}\r\n\r\n.form {\r\n  background-color: #fff;\r\n  width: 400px;\r\n  height: auto;\r\n  padding: 25px;\r\n}\r\n\r\n.formDescription {\r\n  font-size: 1.5rem;\r\n  color: rgb(87, 87, 87);\r\n}\r\n\r\n.i {\r\n  margin-left: 25px !important;\r\n}\r\n\r\n.have-not-account {\r\n  display: flex;\r\n  justify-content: center;\r\n}\r\n\r\n.register {\r\n  color: darkorange;\r\n  font-size: 1.1rem;\r\n}\r\n\r\n.errors {\r\n  width: 100%;\r\n}\r\n</style>\r\n","<template>\r\n  <div class=\"d-flex justify-content-center m-5\">\r\n    <div class=\"spinner-border .text-info\" role=\"status\">\r\n      <span class=\"visually-hidden\">Loading...</span>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  name: \"loader-component\",\r\n};\r\n</script>\r\n","import { render } from \"./Loader.vue?vue&type=template&id=a26e0866\"\nimport script from \"./Loader.vue?vue&type=script&lang=js\"\nexport * from \"./Loader.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"D:\\\\Projects\\\\vue3\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import { render } from \"./Login.vue?vue&type=template&id=307471b4&scoped=true\"\nimport script from \"./Login.vue?vue&type=script&lang=js\"\nexport * from \"./Login.vue?vue&type=script&lang=js\"\n\nimport \"./Login.vue?vue&type=style&index=0&id=307471b4&scoped=true&lang=css\"\n\nimport exportComponent from \"D:\\\\Projects\\\\vue3\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-307471b4\"]])\n\nexport default __exports__"],"names":["class","_createElementVNode","for","type","_hoisted_12","_ctx","_createBlock","_component_Loader","key","_createElementBlock","onSubmit","$options","_hoisted_2","id","placeholder","autocomplete","$event","_hoisted_4","$setup","$invalid","_Fragment","_renderList","$silentErrors","item","uid","$property","_hoisted_6","_toDisplayString","$message","_hoisted_8","_hoisted_10","_hoisted_13","_createVNode","_component_router_link","to","role","_hoisted_3","name","__exports__","components","Loader","setup","crmStore","CRMstore","v$","useVuelidate","data","email","password","isLoaded","validations","required","minLength","methods","async","this","formData","login","then","res","$router","push","$toast","success","e","warning","message","render"],"sourceRoot":""}